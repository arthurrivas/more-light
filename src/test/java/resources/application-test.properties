# Diga ao Spring para usar o JDBC Driver do Testcontainers.
# O prefixo "tc" na URL é a mágica do Testcontainers.
# Ele vai automaticamente:
# 1. Procurar por uma imagem Docker do PostgreSQL versão 14-alpine.
# 2. Iniciar um container com essa imagem.
# 3. Criar um banco de dados chamado "test" dentro do container.
# 4. Fornecer a conexão para os testes.
# 5. Destruir o container quando os testes terminarem.
spring.datasource.url=jdbc:tc:postgresql:14-alpine:///test
spring.datasource.driver-class-name=org.testcontainers.jdbc.ContainerDatabaseDriver

# O usuário e senha são gerenciados pelo Testcontainers, mas você pode defini-los se quiser.
spring.datasource.username=test
spring.datasource.password=test

# 'create-drop' ainda é útil para garantir que as tabelas sejam recriadas a cada execução.
spring.jpa.hibernate.ddl-auto=create-drop